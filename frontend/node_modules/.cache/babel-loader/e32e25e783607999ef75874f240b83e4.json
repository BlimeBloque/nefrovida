{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\saula\\\\Git\\\\ZZTest\\\\Registrar Jornada\\\\frontend\\\\src\\\\views\\\\AddJornada.js\";\nimport React, { Component } from \"react\";\nimport { Button, Form, Message } from \"semantic-ui-react\";\nimport { API } from \"../config\";\n\nclass AddJornada extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n    this.state = {\n      name: \"\",\n      errorMessage: \"\",\n      error: false,\n      isLoading: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      name: e.target.value\n    });\n  }\n\n  async onSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      isLoading: true,\n      error: false,\n      errorMessage: \"\"\n    });\n    const accessToken = await this.props.auth.getAccessToken();\n    const response = await fetch(API + \"/players\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${accessToken}`,\n        Accept: \"application/json\"\n      },\n      body: JSON.stringify({\n        name: this.state.name\n      })\n    });\n    const player = await response.json();\n\n    if (player.errors) {\n      this.setState({\n        isLoading: false,\n        error: true,\n        errorMessage: player.errors\n      });\n    } else {\n      this.setState({\n        name: \"\",\n        isLoading: false,\n        error: false,\n        errorMessage: \"\"\n      });\n      this.props.onAddition(player.data);\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Form, {\n      error: this.state.error,\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Form.Field, {\n      error: this.state.error,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, \"Player Name:\"), /*#__PURE__*/React.createElement(\"input\", {\n      placeholder: \"enter player name\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }\n    }), this.state.error && /*#__PURE__*/React.createElement(Message, {\n      error: true,\n      header: \"Error creating player\",\n      content: this.state.errorMessage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(Button, {\n      type: \"submit\",\n      loading: this.state.isLoading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"Add Player\"));\n  }\n\n}\n\nexport default AddJornada;","map":{"version":3,"sources":["C:/Users/saula/Git/ZZTest/Registrar Jornada/frontend/src/views/AddJornada.js"],"names":["React","Component","Button","Form","Message","API","AddJornada","constructor","props","state","name","errorMessage","error","isLoading","handleChange","bind","onSubmit","e","setState","target","value","preventDefault","accessToken","auth","getAccessToken","response","fetch","method","headers","Authorization","Accept","body","JSON","stringify","player","json","errors","onAddition","data","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Form, Message } from \"semantic-ui-react\";\r\n\r\nimport { API } from \"../config\";\r\n\r\nclass AddJornada extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      name: \"\",\r\n      errorMessage: \"\",\r\n      error: false,\r\n      isLoading: false,\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.onSubmit = this.onSubmit.bind(this);\r\n  }\r\n\r\n  handleChange(e) {\r\n    this.setState({\r\n      name: e.target.value,\r\n    });\r\n  }\r\n\r\n  async onSubmit(e) {\r\n    e.preventDefault();\r\n    this.setState({\r\n      isLoading: true,\r\n      error: false,\r\n      errorMessage: \"\",\r\n    });\r\n\r\n    const accessToken = await this.props.auth.getAccessToken();\r\n    const response = await fetch(API + \"/players\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${accessToken}`,\r\n        Accept: \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: this.state.name,\r\n      }),\r\n    });\r\n    const player = await response.json();\r\n\r\n    if (player.errors) {\r\n      this.setState({\r\n        isLoading: false,\r\n        error: true,\r\n        errorMessage: player.errors,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        name: \"\",\r\n        isLoading: false,\r\n        error: false,\r\n        errorMessage: \"\",\r\n      });\r\n      this.props.onAddition(player.data);\r\n    }\r\n  }\r\n\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <Form error={this.state.error} onSubmit={this.onSubmit}>\r\n        <Form.Field error={this.state.error}>\r\n          <label>Player Name:</label>\r\n          <input\r\n            placeholder=\"enter player name\"\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n          {this.state.error && (\r\n            <Message\r\n              error\r\n              header=\"Error creating player\"\r\n              content={this.state.errorMessage}\r\n            />\r\n          )}\r\n        </Form.Field>\r\n        <Button type=\"submit\" loading={this.state.isLoading}>\r\n          Add Player\r\n        </Button>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default AddJornada;\r\n"]},"metadata":{},"sourceType":"module"}